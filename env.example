# Copy to `.env` for local development.
#
# Notes:
# - Never commit `.env`.
# - `NODE_ENV=staging|production` requires DATABASE_URL, REDIS_URL, OTEL_* (validated at startup).

# Runtime
NODE_ENV=development
HOST=127.0.0.1
PORT=4000
WORKER_HOST=127.0.0.1
WORKER_PORT=4001
SWAGGER_UI_ENABLED=true

# Database (required in staging/production)
DATABASE_URL=postgresql://postgres@localhost:54321/backend_core_kit?schema=public

# Redis / BullMQ (required in staging/production)
REDIS_URL=redis://localhost:63790/0

# Auth (OIDC + first-party session tokens)
# Placeholders; values depend on your IdP and chosen issuer/audience strategy.
AUTH_ISSUER=https://api.example.com
AUTH_AUDIENCE=api.example.com
AUTH_ACCESS_TOKEN_TTL_SECONDS=900
AUTH_REFRESH_TOKEN_TTL_SECONDS=2592000
AUTH_PASSWORD_MIN_LENGTH=10
# Login backoff (Redis-based). Tune per project risk profile.
AUTH_LOGIN_MAX_ATTEMPTS=10
AUTH_LOGIN_WINDOW_SECONDS=60
AUTH_LOGIN_BLOCK_SECONDS=900
AUTH_JWT_ALG=EdDSA
# Private JWK set JSON (current + previous keys) used for signing access tokens (never commit real keys).
AUTH_SIGNING_KEYS_JSON=[]

# Observability (Grafana Cloud OTLP)
OTEL_SERVICE_NAME=backend-core-kit
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_EXPORTER_OTLP_HEADERS=Authorization=Bearer <GRAFANA_CLOUD_OTLP_TOKEN>
LOG_LEVEL=debug
# Pretty logs are enabled by default in development; set false to force JSON.
LOG_PRETTY=true
